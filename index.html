<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursos Integrados de Gesti√≥n de Proyectos e IA</title>
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Mermaid.js para los diagramas -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <!-- jsPDF para certificado -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Fuente Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: #f8f9fa;
        }
        .tab-button {
            padding: 10px 20px;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        .tab-button:hover {
            background: #e5e7eb;
        }
        .tab-button.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        iframe {
            width: 100%;
            border: none;
            min-height: calc(100vh - 140px);
            display: none;
        }
        iframe.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header style="background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 16px; position: sticky; top: 0; z-index: 1000;">
        <div style="max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
            <h1 style="font-size: 1.5rem; font-weight: bold; color: #1e40af; margin: 0;">
                üìö Cursos Integrados de Gesti√≥n e IA
            </h1>
            <nav style="display: flex; gap: 8px; flex-wrap: wrap;">
                <button onclick="cambiar('fundamentos')" class="tab-button active" id="btn-fundamentos">
                    üìñ Fundamentos
                </button>
                <button onclick="cambiar('pmo')" class="tab-button" id="btn-pmo">
                    ü§ñ PMO IA
                </button>
                <button onclick="cambiar('stack')" class="tab-button" id="btn-stack">
                    ‚ö° Stack IA
                </button>
            </nav>
        </div>
    </header>

    <!-- Iframes para cada curso -->
    <iframe id="iframe-fundamentos" src="backups/fundamentos.html" style="width: 100%; border: none; min-height: calc(100vh - 140px); display: block;"></iframe>
    <iframe id="iframe-pmo" src="backups/pmo.html" style="width: 100%; border: none; min-height: calc(100vh - 140px); display: none;"></iframe>
    <iframe id="iframe-stack" src="backups/stack.html" style="width: 100%; border: none; min-height: calc(100vh - 140px); display: none;"></iframe>

    <!-- Footer -->
    <footer style="background: #1f2937; color: white; padding: 24px; text-align: center;">
        <p style="margin: 0 0 16px 0;">¬© 2025 Randhy Paul Rodriguez Santos. Todos los derechos reservados.</p>
        <button id="certificado-btn" onclick="generarCertificado()" style="background: #3b82f6; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: background 0.3s;">
            üìÑ Generar Certificado de Progreso
        </button>
    </footer>

    <script>
        // USANDO ESTILOS INLINE DIRECTOS (no pueden ser sobrescritos por Tailwind)
        function cambiar(curso) {
            console.log('>>> CAMBIANDO A:', curso);

            // Ocultar TODOS los iframes usando style.display directo
            document.querySelectorAll('iframe').forEach(f => {
                f.style.display = 'none';
                console.log('Ocultando:', f.id);
            });

            // Desactivar todos los botones
            document.querySelectorAll('.tab-button').forEach(b => {
                b.classList.remove('active');
            });

            // Mostrar el iframe seleccionado usando style.display directo
            const iframe = document.getElementById('iframe-' + curso);
            const btn = document.getElementById('btn-' + curso);

            if (iframe && btn) {
                iframe.style.display = 'block';
                btn.classList.add('active');
                console.log('‚úÖ MOSTRANDO:', iframe.id);
            } else {
                console.error('‚ùå No se encontr√≥ iframe o bot√≥n para:', curso);
            }
        }

        // Funci√≥n para generar certificado
        function generarCertificado() {
            if (typeof jsPDF === 'undefined') {
                alert('jsPDF no est√° cargado. Verifica tu conexi√≥n a internet.');
                return;
            }

            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();

                // T√≠tulo
                doc.setFontSize(24);
                doc.setTextColor(30, 64, 175);
                doc.text('CERTIFICADO DE PROGRESO', 105, 40, { align: 'center' });

                // L√≠nea decorativa
                doc.setDrawColor(59, 130, 246);
                doc.setLineWidth(1);
                doc.line(20, 50, 190, 50);

                // Contenido
                doc.setFontSize(16);
                doc.setTextColor(0, 0, 0);
                doc.text('Cursos Integrados de Gesti√≥n de Proyectos e IA', 105, 70, { align: 'center' });

                doc.setFontSize(12);
                doc.text('Este certificado reconoce que has accedido a:', 105, 90, { align: 'center' });

                doc.setFontSize(14);
                doc.text('‚úì Fundamentos de Gesti√≥n de Proyectos', 30, 110);
                doc.text('‚úì PMO Virtual con IA', 30, 125);
                doc.text('‚úì Stack de IA', 30, 140);

                // Fecha
                const fecha = new Date().toLocaleDateString('es-ES', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                doc.setFontSize(10);
                doc.text('Fecha: ' + fecha, 105, 170, { align: 'center' });

                // Footer
                doc.setFontSize(8);
                doc.setTextColor(100, 100, 100);
                doc.text('¬© 2025 Randhy Paul Rodriguez Santos', 105, 280, { align: 'center' });
                doc.text('Generado con Claude Code', 105, 285, { align: 'center' });

                // Descargar
                doc.save('certificado-cursos-gestion-ia.pdf');

                alert('‚úÖ Certificado generado exitosamente!');
            } catch (error) {
                console.error('Error generando certificado:', error);
                alert('Error al generar el certificado: ' + error.message);
            }
        }

        // Inicializar Mermaid
        if (typeof mermaid !== 'undefined') {
            mermaid.initialize({ startOnLoad: true, theme: 'default' });
            console.log('‚úÖ Mermaid inicializado');
        }

        // Log de eventos de carga de iframes
        document.querySelectorAll('iframe').forEach(iframe => {
            iframe.onload = function() {
                console.log('‚úÖ Cargado:', iframe.id);
            };
            iframe.onerror = function() {
                console.error('‚ùå Error:', iframe.id);
            };
        });

        console.log('üöÄ Aplicaci√≥n iniciada correctamente');
        console.log('Iframes:', document.querySelectorAll('iframe').length);
        console.log('Botones:', document.querySelectorAll('button').length);
    </script>
</body>
</html>
